import{w as g}from"./with-props-BBqpwT5E.js";import{j as e,F as b,L as t,N as y,l as N,b as k,g as c,O as v,S as w}from"./chunk-LSOULM7L-OaPJ-Plh.js";import{B as n,S as d,b as S}from"./index-Dbs4k1je.js";import{C as m}from"./index-C65Y4aBu.js";import{a as f}from"./utils-CNtvmiS0.js";import{c as x}from"./createLucideIcon-BSoWJu4V.js";import{S as C}from"./index-D-b6Fp5p.js";import"./index-BIC2x-iH.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=x("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=x("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=x("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);function M({className:s}){return e.jsx("div",{className:"flex h-full grow items-center justify-center",children:e.jsx(z,{className:f("h-8 w-8 animate-spin",s),"aria-label":"Loading"})})}function R({user:s}){return e.jsx("div",{className:"bg-black text-white text-sm font-medium",children:e.jsx(m,{className:"h-10 flex justify-end items-center",children:e.jsx("nav",{"aria-label":"Autenticación de usuario",children:e.jsx("ul",{className:"flex items-center gap-4",children:s?e.jsxs(e.Fragment,{children:[e.jsxs("li",{children:["Bienvenido ",s.name||s.email]}),e.jsx("li",{children:e.jsx(b,{method:"post",action:"/logout",children:e.jsx(n,{variant:"ghost",className:"text-white",children:"Cerrar sesión"})})})]}):e.jsxs(e.Fragment,{children:[e.jsx("li",{children:e.jsx(t,{to:"/login",className:"hover:underline hover:decoration-white hover:underline-offset-2",children:"Iniciar sesión"})}),e.jsx("li",{children:e.jsx(t,{to:"/signup",className:"hover:underline hover:decoration-white hover:underline-offset-2",children:"Crear una cuenta"})})]})})})})})}const T="/assets/fullstock-logo-D2omHfT8.svg";function H({user:s,totalItems:a}){return e.jsxs("div",{className:"flex gap-2 items-center",children:[s&&e.jsxs(e.Fragment,{children:[e.jsx(t,{to:"/account",children:e.jsx(n,{size:"xl-icon",variant:"ghost","aria-label":"Cuenta de usuario",children:e.jsx(L,{})})}),e.jsx(d,{orientation:"vertical",className:"h-6"})]}),e.jsx(n,{size:"xl-icon",variant:"ghost","aria-label":"Carrito de compras",asChild:!0,className:"relative",children:e.jsxs(t,{to:"/cart",children:[e.jsx(F,{}),a>0&&e.jsx("span",{className:"absolute -bottom-1 -right-1 bg-primary text-primary-foreground text-xs rounded-full h-5 w-5 flex items-center justify-center",children:a})]})})]})}function P({items:s}){return e.jsx("nav",{"aria-label":"Navegación principal",className:"static sm:absolute sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2",children:e.jsx("ul",{className:"flex justify-center h-12",role:"menubar",children:s.map(a=>e.jsx("li",{className:"flex justify-center",role:"none",children:e.jsx(y,{to:a.to,role:"menuitem",className:({isActive:r})=>f("inline-flex justify-center items-center p-3 text-sm font-medium text-muted-foreground transition-colors duration-200 hover:bg-accent",r&&"text-accent-foreground"),children:a.label})},a.to))})})}const A=[{to:"polos",label:"Polos"},{to:"tazas",label:"Tazas"},{to:"stickers",label:"Stickers"}];function E({user:s,totalItems:a}){return e.jsxs(m,{className:"relative",children:[e.jsxs("div",{className:"flex justify-between items-center h-12",children:[e.jsx(t,{to:"/",children:e.jsx("img",{src:T,alt:"FullStock inicio",width:"128",height:"32"})}),e.jsx(H,{user:s,totalItems:a})]}),e.jsx(d,{className:"block sm:hidden"}),e.jsx(P,{items:A})]})}async function $({request:s}){const a=await s.formData();try{return await new Promise(r=>setTimeout(r,1e3)),{ok:!0,message:`Suscripción exitosa con email: ${a.get("email")}`}}catch(r){return console.error(r),{ok:!1,message:"Hubo un error al procesar tu solicitud"}}}const G=g(function({loaderData:a}){var u;const{totalItems:r,user:h}=a,p=N(),i=k(),o=c.useRef(null),l=i.state==="submitting";return c.useEffect(()=>{var j;(j=i.data)!=null&&j.ok&&o.current&&(o.current.value="")},[i.data]),e.jsxs("div",{className:"grid grid-rows-[auto_1fr_auto] min-h-screen bg-background",children:[e.jsxs("header",{className:"sticky top-0 bg-background border-b border-border z-50",children:[e.jsx(R,{user:h}),e.jsx(E,{user:h,totalItems:r})]}),e.jsx("main",{children:e.jsx(c.Suspense,{fallback:e.jsx(M,{}),children:e.jsx(v,{})},p.key)}),e.jsx("footer",{className:"border-t border-border",children:e.jsxs(m,{children:[e.jsxs(C,{className:"flex flex-col gap-8 lg:flex-row",children:[e.jsxs("div",{className:"flex flex-wrap gap-y-4 gap-x-8 flex-grow",children:[e.jsxs("ul",{className:"flex-1 basis-40 flex flex-col gap-6 text-sm text-muted-foreground",children:[e.jsx("li",{className:"font-medium text-foreground",children:"Tienda"}),e.jsx("li",{children:e.jsx(t,{to:"/polos",children:"Polos"})}),e.jsx("li",{children:e.jsx(t,{to:"/tazas",children:"Tazas"})}),e.jsx("li",{children:e.jsx(t,{to:"/stickers",children:"Stickers"})})]}),e.jsxs("ul",{className:"flex-1 basis-40 flex flex-col gap-6 text-sm text-muted-foreground",children:[e.jsx("li",{className:"font-medium text-foreground",children:"Compañía"}),e.jsx("li",{children:e.jsx(t,{to:"/quienes-somos",children:"Quienes somos"})}),e.jsx("li",{children:e.jsx(t,{to:"/terminos",children:"Términos y condiciones"})}),e.jsx("li",{children:e.jsx(t,{to:"/privacidad",children:"Privacidad"})})]}),e.jsxs("ul",{className:"flex-1 basis-40 flex flex-col gap-6 text-sm text-muted-foreground",children:[e.jsx("li",{className:"font-medium text-foreground",children:"Conecta"}),e.jsx("li",{children:e.jsx(t,{to:"/contacto",children:"Contáctanos"})}),e.jsx("li",{children:e.jsx(t,{to:"https://www.facebook.com/",target:"_blank",children:"Facebook"})}),e.jsx("li",{children:e.jsx(t,{to:"https://www.instagram.com/",target:"_blank",children:"Instagram"})})]})]}),e.jsxs("div",{className:"text-sm max-w-md",children:[e.jsx("p",{className:"font-medium mb-6",children:"Suscríbete a nuestro boletín"}),e.jsx("p",{className:"text-muted-foreground mb-2",children:"Recibe las últimas ofertas y descuentos en tu correo semanalmente."}),e.jsxs(i.Form,{method:"post",className:"flex gap-2",children:[e.jsx(S,{type:"email",ref:o,"aria-label":"email",required:!0,name:"email",disabled:l,placeholder:"ejemplo@mail.com"}),e.jsx(n,{size:"lg",variant:"secondary",type:"submit",disabled:l,children:l?"Enviando...":"Suscribirse"})]}),e.jsx("p",{className:"text-muted-foreground my-2",children:(u=i.data)==null?void 0:u.message})]})]}),e.jsx(d,{orientation:"horizontal",decorative:!0}),e.jsx("small",{className:"block text-center text-sm text-muted-foreground py-6",children:"Todos los derechos reservados © Full Stock"})]})}),e.jsx(w,{})]})});export{$ as clientAction,G as default};
