import{w as g}from"./with-props-BBqpwT5E.js";import{a as h,u as j,j as e,L as w}from"./chunk-LSOULM7L-OaPJ-Plh.js";import{z as r,u as C,s as S}from"./index-DudFI82r.js";import{I as l,B as N}from"./index-Dbs4k1je.js";import{C as v}from"./index-C65Y4aBu.js";import{d as y}from"./utils-CNtvmiS0.js";import{S as z}from"./index-D-b6Fp5p.js";import{f as A}from"./user.service-DZA7gS4U.js";import"./index-BIC2x-iH.js";const E=y(A,300),F=r.object({email:r.string().email("Correo electrónico inválido").refine(async t=>t.match(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/)?await E(t):!1,"El correo no esta disponible"),password:r.string().min(6,"La contraseña debe tener al menos 6 caracteres")}),T=g(function({actionData:c}){var i,m;const u=h(),d=j(),s=c,a=d.state==="submitting",{register:o,handleSubmit:p,formState:{errors:n,isValid:x}}=C({resolver:S(F),defaultValues:{email:"",password:""},mode:"onTouched"});async function f(b){u(b,{method:"post"})}return e.jsx(z,{children:e.jsxs(v,{className:"max-w-sm mx-auto",children:[e.jsx("h1",{className:"text-2xl font-bold text-center mb-10",children:"Crea una cuenta"}),e.jsxs("form",{onSubmit:p(f),className:"flex flex-col gap-6",children:[e.jsx(l,{label:"Correo electrónico",type:"email",required:!0,autoComplete:"email",error:(i=n.email)==null?void 0:i.message,...o("email")}),e.jsx(l,{label:"Contraseña",type:"password",required:!0,autoComplete:"current-password",error:(m=n.password)==null?void 0:m.message,...o("password")}),e.jsx(N,{size:"lg",className:"w-full",disabled:!x||a,children:a?"Creando...":"Crear cuenta"}),(s==null?void 0:s.error)&&e.jsx("p",{className:"text-red-500 text-sm text-center mt-2",children:s.error})]}),e.jsxs("div",{className:"flex justify-center gap-2 mt-10 text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"¿Ya tienes una cuenta?"}),e.jsx(w,{to:"/login",className:"text-accent-foreground hover:underline",children:"Inicia sesión"})]})]})})});export{T as default};
